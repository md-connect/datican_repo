<!DOCTYPE html>
<html lang="en">
  <head>
    {% load static %}
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>{% block title %}Datican | Open Data Repository{% endblock %}</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'images/datican_logo_io.png' %}">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#2C3E50",
              secondary: "#1A252F",
              accent: "#E74C3C",
            },
          },
        },
      };
    </script>

    <!-- AlpineJS -->
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

    {% block extra_head %}{% endblock %}
  </head>

  <body class="bg-gray-50">
    <div class="flex min-h-screen">

      {% block sidebar_header %}
        {% with url_name=request.resolver_match.url_name|default:'' path=request.path %}

        {% if path == '/' and not url_name %}
          {% include 'partials/_header.html' %}
        {% elif url_name == 'login' or url_name == 'signup' %}
          {% include 'partials/_header.html' %}
        {% elif 'account' in path %}
          {% include 'partials/_header.html' %}
        {% elif 'password' in path %}
          {% include 'partials/_header.html' %}
        {% else %}
          {% include 'partials/_sidebar_header.html' %}
        {% endif %}

        {% endwith %}
      {% endblock %}

      <!-- Main Content Area -->
      <div class="flex-1 flex flex-col">

        {% with url_name=request.resolver_match.url_name|default:'' path=request.path %}
        <div
          id="main-content"
          class="flex-1 transition-all duration-300
          {% if path == '/' and not url_name %}
            pt-16
          {% elif url_name == 'login' or url_name == 'signup' %}
            pt-16
          {% elif 'account' in path %}
            pt-16
          {% elif 'password' in path %}
            pt-16
          {% endif %}
          "
        >
          <main class="h-full">
            {% block content %}{% endblock %}
          </main>
        </div>
        {% endwith %}

        {% include 'partials/_footer.html' %}
      </div>
    </div>

    {% include 'partials/_scripts.html' %}
    {% block extra_scripts %}{% endblock %}
  </body>
</html>
